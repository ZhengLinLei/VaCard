const CURRENT_CACHE="VaCard";let filesToCache=["./","./source/favicon.ico","./css/style.css","./js/script.min.js","./manifest.json","./manifest.webmanifest","https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css","https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js","https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js","https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"];self.addEventListener("install",eo=>{console.log("Installing service worker"),eo.waitUntil(caches.open("VaCard").then(cache=>{console.log("Caching..."),cache.addAll(filesToCache)}))}),self.addEventListener("activate",evt=>{console.log("Activating service worker"),evt.waitUntil(caches.keys().then(cacheNames=>Promise.all(cacheNames.map(cacheName=>{if("VaCard"!==cacheName)return console.log("Deleting old cache"),caches.delete(cacheName)}))))});const updateCache=request=>{request.url.includes(".woff")||caches.open("VaCard").then(cache=>{cache.match(request).then(response=>{response&&fetch(request).then(res=>{cache.put(request,res.clone())})})})};self.addEventListener("fetch",event=>{event.respondWith(caches.open("VaCard").then(cache=>cache.match(event.request.url).then(response=>response||fetch(event.request)))),updateCache(event.request)});